export const pinMachine = {
    start: "q0",
    accept: "qA",
    error: "qE",

    transitions: {

        // q0 – saltar B iniciales
        "q0": {
            "B": ["q0", "R"],

            "0": ["q1", "R"], "1": ["q1", "R"], "2": ["q1", "R"], "3": ["q1", "R"],
            "4": ["q1", "R"], "5": ["q1", "R"], "6": ["q1", "R"], "7": ["q1", "R"],
            "8": ["q1", "R"], "9": ["q1", "R"]
        },

        // 1er dígito
        "q1": {
            "0": ["q2", "R"], "1": ["q2", "R"], "2": ["q2", "R"], "3": ["q2", "R"],
            "4": ["q2", "R"], "5": ["q2", "R"], "6": ["q2", "R"], "7": ["q2", "R"],
            "8": ["q2", "R"], "9": ["q2", "R"],

            "B": ["qE", "S"]
        },

        // 2do dígito
        "q2": {
            "0": ["q3", "R"], "1": ["q3", "R"], "2": ["q3", "R"], "3": ["q3", "R"],
            "4": ["q3", "R"], "5": ["q3", "R"], "6": ["q3", "R"], "7": ["q3", "R"],
            "8": ["q3", "R"], "9": ["q3", "R"],

            "B": ["qE", "S"]
        },

        // 3er dígito
        "q3": {
            "0": ["q4", "R"], "1": ["q4", "R"], "2": ["q4", "R"], "3": ["q4", "R"],
            "4": ["q4", "R"], "5": ["q4", "R"], "6": ["q4", "R"], "7": ["q4", "R"],
            "8": ["q4", "R"], "9": ["q4", "R"],

            "B": ["qE", "S"]
        },

        // 4to dígito – opción de aceptar si es PIN de 4
        // o seguir para PIN de 6
        "q4": {
            "B": ["qA", "S"], // si encuentra B → es PIN de 4 → aceptar

            "0": ["q5", "R"], "1": ["q5", "R"], "2": ["q5", "R"], "3": ["q5", "R"],
            "4": ["q5", "R"], "5": ["q5", "R"], "6": ["q5", "R"], "7": ["q5", "R"],
            "8": ["q5", "R"], "9": ["q5", "R"]
        },

        // 5to dígito
        "q5": {
            "0": ["q6", "R"], "1": ["q6", "R"], "2": ["q6", "R"], "3": ["q6", "R"],
            "4": ["q6", "R"], "5": ["q6", "R"], "6": ["q6", "R"], "7": ["q6", "R"],
            "8": ["q6", "R"], "9": ["q6", "R"],

            "B": ["qE", "S"] // no acepta 5 dígitos
        },

        // 6to dígito – aceptar si sigue B
        "q6": {
            "B": ["qA", "S"],

            // si hay un séptimo dígito → error
            "0": ["qE","S"], "1": ["qE","S"], "2": ["qE","S"], "3": ["qE","S"],
            "4": ["qE","S"], "5": ["qE","S"], "6": ["qE","S"], "7": ["qE","S"],
            "8": ["qE","S"], "9": ["qE","S"]
        }
    }
};
